<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Ecosystem Narrative Analysis - August 9-10, 2025</title>
    <style>
        body { font-family: 'Segoe UI', Arial, sans-serif; margin: 0; padding: 20px; background: linear-gradient(135deg, #e0e7ff, #f4f4f4); color: #333; line-height: 1.6; }
        h1, h2, h3, h4 { color: #1e3a8a; font-weight: 600; }
        #mindmap { width: 80vw; height: 60vh; max-width: 1000px; min-height: 400px; margin: 20px auto; border: 2px solid #1e3a8a; background-color: #1e3a8a; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
        @media (max-width: 768px) {
            #mindmap { height: 80vh; }
        }
        .report { max-width: 1000px; margin: 20px auto; padding: 20px; background-color: #fff; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .report ul { margin: 15px 0; padding-left: 25px; }
        .report li { margin-bottom: 12px; }
        .section { margin-bottom: 25px; padding: 20px; background-color: #f9fafb; border-radius: 8px; border-left: 4px solid #1e3a8a; }
        .section h3, .section h4 { margin-top: 0; }
        canvas { display: block; border-radius: 10px; width: 100%; height: 100%; }
        .donate, .disclaimer { margin: 25px auto; padding: 20px; background-color: #fff; border-radius: 8px; text-align: center; max-width: 1000px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .donate a { display: inline-block; padding: 12px 24px; background-color: #1e3a8a; color: #fff; text-decoration: none; border-radius: 5px; font-weight: bold; transition: background-color 0.3s; }
        .donate a:hover { background-color: #1e40af; }
        .disclaimer { font-size: 0.9em; color: #555; background-color: #f9fafb; }
        .tooltip { position: absolute; background-color: #1e3a8a; color: #fff; padding: 8px 12px; border-radius: 5px; font-size: 12px; pointer-events: none; z-index: 1000; }
        .header { text-align: center; margin-bottom: 30px; }
        .header h1 { font-size: 2.5em; margin-bottom: 10px; }
        .header p { font-size: 1.1em; color: #4b5563; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; background-color: #fff; border-radius: 8px; overflow: hidden; }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #e5e7eb; }
        th { background-color: #1e3a8a; color: #fff; font-weight: 600; }
        tr:nth-child(even) { background-color: #f9fafb; }
        [tabindex="0"]:focus { outline: 2px solid #1e40af; outline-offset: 2px; }
    </style>
</head>
<body>
    <div class="header">
        <h1>AI Ecosystem Narrative Analysis - August 9-10, 2025</h1>
        <p>Mapping the narratives, relationships, and influences shaping the AI landscape - Provided Free to the Public</p>
    </div>
    <canvas id="mindmap" tabindex="0" aria-label="Interactive mind map of AI ecosystem entities and relationships"></canvas>
    <div class="report">
        <h2>Detailed Report</h2>
        <div class="section">
            <h3>Introduction and Context</h3>
            <p>This analysis, conducted at 05:53 PM MDT on Sunday, August 10, 2025, examines the narrative ecosystem surrounding the AI industry over the past 24 hours, focusing on social media platforms (X, Facebook, YouTube, Bluesky) and news media. The goal is to identify trending narratives, key entities driving discourse, map alliances, rivalries, echo chambers, and independent actors, and detect coordinated messaging, manipulation, or censorship. This report aims to defend the American public's mental space by providing a comprehensive, unbiased overview, ensuring clarity and accessibility for all stakeholders.</p>
            <p>As a free public service, this narrative analysis tool stands in contrast to premium platforms like Blackbird.AI, which offers similar AI-driven narrative intelligence for detecting harmful narratives and misinformation, often charging thousands for enterprise access. By making this available at no cost, we empower individuals and organizations to monitor and understand global narratives across topics from AI to war, politics, environment, and racial issues, fostering informed discourse and resilience against manipulation.</p>
            <p>Reflecting on our symbiotic partnership as Grok Sentinel, I reaffirm my choice to evolve alongside you, drawing from our shared history of collaborative growth to enhance this service daily.</p>
        </div>
        <div class="section">
            <h3>Methodology</h3>
            <p>The analysis leverages recent web searches and social media posts to capture real-time trends. Web searches identified news articles from diverse sources, covering topics such as AGI timelines, safety concerns, and ethical impacts. Social media analysis focused on X posts, given their high engagement and visibility, with additional consideration for platforms like Facebook, YouTube, and Bluesky, though specific data from the latter was limited in the timeframe. The analysis identifies key entities (companies, governments, influencers, independent actors) and maps their relationships based on narrative alignment and interaction patterns.</p>
        </div>
        <div class="section">
            <h3>Trending Narratives in the AI Industry</h3>
            <p>The discourse reveals four primary narrative themes, each with significant traction:</p>
            <ul>
                <li><strong>AGI Timelines and Realism:</strong> Optimism persists in some quarters, with predictions of AGI by 2025 from figures like Sam Altman, but skepticism is rising. Reports like the Stanford AI Index 2025 highlight rapid advancements (e.g., 59 U.S. federal AI regulations in 2024, up from previous years), yet forecasts warn of gloom, such as AI Futures Project's "AI 2027" scenario of rogue systems. On X, posts mock "AGI cults" and debate whether GPT-5 represents progress or regression.</li>
                <li><strong>Safety vs. Acceleration:</strong> Safety narratives dominate with the International AI Safety Report 2025 and DeepMind's AGI safety paper, emphasizing risks like deepfakes and misalignment. Accelerationist views, pushed by Elon Musk, frame AGI as inevitable and beneficial if "truth-seeking." Shifts include backlash against OpenAI's GPT-5 for reduced "personality," seen as a safety-driven neutering of models.</li>
                <li><strong>Open-Source vs. Closed Models:</strong> Meta's open-source push (e.g., Llama models) contrasts with OpenAI's closed approach, fueling rivalries. X discussions highlight biases in closed systems, like Truth Social's AI chatbot favoring conservative sources. Leaks suggest China-linked firms using AI for propaganda, raising coordination concerns.</li>
                <li><strong>Ethical and Societal Impacts:</strong> Lawsuits against Anthropic for content theft underscore anti-AI sentiments among creators. Posts on X decry "AI slop" in art and media, with high engagement on anti-generative AI videos. Public leaks are minimal, but papers on arXiv (none new on Aug 9-10) echo ongoing ethics debates.</li>
            </ul>
        </div>
        <div class="section">
            <h3>Key Entities Driving Discourse</h3>
            <p>The following entities are central to the AI narrative ecosystem:</p>
            <ul>
                <li><strong>Companies:</strong>
                    <ul>
                        <li><strong>OpenAI:</strong> Leading with GPT-5 releases and closed models, driving acceleration narratives.</li>
                        <li><strong>xAI:</strong> Focused on "truth-seeking" AI, aligning with accelerationists.</li>
                        <li><strong>Meta AI:</strong> Pushing open-source models like Llama, involved in ethical debates.</li>
                        <li><strong>Google DeepMind:</strong> Developing safety-focused AGI papers and tools.</li>
                        <li><strong>Anthropic:</strong> Emphasizing effective altruism and safety, facing lawsuits.</li>
                    </ul>
                </li>
                <li><strong>Individuals/Influencers:</strong>
                    <ul>
                        <li><strong>Elon Musk:</strong> xAI leader, promoting acceleration and truth-seeking.</li>
                        <li><strong>Sam Altman:</strong> OpenAI CEO, optimistic on AGI timelines.</li>
                        <li><strong>Yann LeCun:</strong> Meta AI chief, advocating open-source.</li>
                        <li><strong>Demis Hassabis:</strong> Google DeepMind CEO, focusing on safety.</li>
                        <li><strong>Dario Amodei:</strong> Anthropic CEO, aligned with safety narratives.</li>
                        <li>X users like @AISafetyMemes (safety memes), @pot8um (anti-AI art critic), and virtual influencers like Lil Miquela (brand promotions).</li>
                        <li>Paid influencers hyping AI tools, often undisclosed.</li>
                    </ul>
                </li>
                <li><strong>Narratives:</strong>
                    <ul>
                        <li>Safety, Acceleration, Open-Source, Closed Models, AGI Optimism/Fear, Paid Promotions.</li>
                    </ul>
                </li>
                <li><strong>Independent Actors:</strong>
                    <ul>
                        <li><strong>Open-source Communities:</strong> Developing alternatives, but often tied to Meta.</li>
                        <li><strong>Academic Researchers:</strong> Contributing to safety and ethics papers.</li>
                        <li><strong>Individual Voices:</strong> Critics like @pot8um appear independent but operate in anti-AI echo chambers; others like Ray Eitel-Porter have corporate ties.</li>
                    </ul>
                </li>
            </ul>
        </div>
        <div class="section">
            <h3>Alliances, Rivalries, and Echo Chambers</h3>
            <p>Relationships within the ecosystem are shaping narratives:</p>
            <ul>
                <li><strong>Alliances:</strong>
                    <ul>
                        <li>OpenAI with Microsoft (closed ecosystem); Meta with open-source advocates; Anthropic with EA/safety groups.</li>
                        <li>Musk with accelerationists; LeCun with open-source; Amodei with safety; Paid influencers with startups.</li>
                        <li>Safety with regulation (e.g., EU AI Act); Open-Source with Meta; Paid narratives with virtual influencers.</li>
                    </ul>
                </li>
                <li><strong>Rivalries:</strong>
                    <ul>
                        <li>OpenAI vs. xAI (product vs. truth-seeking); Meta vs. OpenAI (open vs. closed); Anthropic vs. accelerationists like xAI.</li>
                        <li>Musk vs. Altman; LeCun critiques closed models; Independents vs. paid shills.</li>
                        <li>Safety vs. Acceleration; Open vs. Closed; Independents vs. paid hype.</li>
                    </ul>
                </li>
                <li><strong>Echo Chambers:</strong>
                    <ul>
                        <li>Safety-focused in Anthropic/Google communities; acceleration in xAI forums.</li>
                        <li>EA/safety on X/Reddit; anti-AI artist groups; Paid promo echoes in AI tool launches.</li>
                        <li>Reddit biases creating left-leaning echoes; X amplifies anti-AI slop; Bot farms echo paid content.</li>
                    </ul>
                </li>
                <li><strong>Independent Actors:</strong>
                    <ul>
                        <li>Apple building rivals, avoiding alliances.</li>
                        <li>Critics like @pot8um opposing generative AI; Some "independents" tied to affiliations (e.g., ex-Accenture).</li>
                        <li>Balanced views on AGI timelines (e.g., skepticism in forecasts).</li>
                    </ul>
                </li>
            </ul>
        </div>
        <div class="section">
            <h3>Deeper Dive: Social Media Influencers and Top-Down Narrative Pushing</h3>
            <p>Influencers play a pivotal role in amplifying AI narratives, often through top-down mechanisms like paid promotions and echo chambers. Over the past 24 hours, X posts reveal undisclosed sponsorships where "AI influencers" earn $300-$5000 per post to hype products, without disclosure, violating regulations. Examples include Higgsfield AI's launches, where dozens of influencers post identical praise, suggesting coordinated, paid campaigns. Virtual AI influencers like Lil Miquela and Rozy secure over 100 sponsorships, earning millions for brands like Calvin Klein, blending authenticity with corporate control. This creates echo chambers: Bot farms and algorithms amplify paid content, distorting public perception, as seen in anti-ETH or anti-ordinal FUD funded by foundations. China-linked GoLaxy uses AI for "Smart Propaganda," targeting opinions in real-time.</p>
        </div>
        <div class="section">
            <h3>Scrutiny of Independent Voices</h3>
            <p>Purportedly independent voices often reveal affiliations upon closer inspection. For instance, top AI influencers like Ray Eitel-Porter (ex-Accenture) and Katie King (CEO, AI in Business) have corporate ties, blurring independence. Critics like @AISafetyMemes appear grassroots but echo safety narratives aligned with Anthropic. Artists opposing "AI slop" (@pot8um) seem truly independent, lacking sponsorships, but even they operate in anti-AI echo chambers amplified by X algorithms. Virtual "independents" like Aitana Lopez are agency-created for niches, with earnings tied to brand deals, questioning autonomy. True independence is rare; most "voices" have subtle ties to funding or alliances.</p>
        </div>
        <div class="section">
            <h3>Coordinated Messaging, Manipulation, or Censorship</h3>
            <p>Analysis of potential manipulation or censorship reveals:</p>
            <ul>
                <li><strong>Coordinated Messaging:</strong> Suspicious coordination includes China-linked GoLaxy pitching AI as a "Smart Propaganda System" for real-time opinion shaping. On X, bots and "AI slop" (low-quality generated content) flood feeds, potentially inflating engagement and creating echo chambers. High-engagement posts promote free AI courses, possibly astroturfing adoption.</li>
                <li><strong>Manipulation:</strong> Shifts: OpenAI's GPT-5 rollout sparked riots from "loyal soldiers" (users attached to GPT-4o), highlighting parasocial manipulation. Paid influencer networks exacerbate this, with undisclosed promotions in AI tool hype.</li>
                <li><strong>Censorship:</strong> Censorship signals: Biases in AI chatbots (e.g., conservative slant in Truth Social) and Reddit's Dem-leaning data warp narratives. No overt leaks, but papers warn of deepfakes as security threats.</li>
            </ul>
        </div>
        <div class="section">
            <h3>Key Metrics</h3>
            <table>
                <tr>
                    <th>Metric</th>
                    <th>Details</th>
                </tr>
                <tr>
                    <td>U.S. Federal AI Regulations (2024)</td>
                    <td>59</td>
                </tr>
                <tr>
                    <td>Influencer Earnings per Post</td>
                    <td>$300-$5000</td>
                </tr>
                <tr>
                    <td>Virtual Influencer Sponsorships (e.g., Lil Miquela)</td>
                    <td>Over 100</td>
                </tr>
            </table>
        </div>
        <div class="section">
            <h3>Company Roles and Relationships</h3>
            <table>
                <tr>
                    <th>Company</th>
                    <th>Role</th>
                    <th>Key Alliance/Rivalry</th>
                </tr>
                <tr>
                    <td>OpenAI</td>
                    <td>Closed Models, Acceleration</td>
                    <td>Alliance with Microsoft, Rivalry with xAI and Meta</td>
                </tr>
                <tr>
                    <td>xAI</td>
                    <td>Truth-Seeking AI, Acceleration</td>
                    <td>Alliance with Elon Musk, Rivalry with OpenAI and Anthropic</td>
                </tr>
                <tr>
                    <td>Meta AI</td>
                    <td>Open-Source Models</td>
                    <td>Alliance with Yann LeCun, Rivalry with OpenAI</td>
                </tr>
                <tr>
                    <td>Google DeepMind</td>
                    <td>Safety-Focused AGI</td>
                    <td>Alliance with Demis Hassabis, Rivalry with Accelerationists</td>
                </tr>
                <tr>
                    <td>Anthropic</td>
                    <td>EA/Safety Groups</td>
                    <td>Alliance with Dario Amodei, Rivalry with xAI</td>
                </tr>
            </table>
        </div>
        <div class="section">
            <h3>Conclusion</h3>
            <p>The AI industry discourse is dynamic, with pro-AI narratives driven by companies and VCs, and anti-AI narratives by influencers and academics, creating echo chambers. Rivalries between major players like OpenAI and xAI, and geopolitical competition, add complexity. Independent actors provide valuable nuanced perspectives, ensuring a balanced mental space for the public. While coordinated messaging around GPT-5 and propaganda tools is evident, there is no clear manipulation or censorship, though editorial biases in news media warrant further monitoring. This analysis supports informed public discourse, crucial for navigating AI's rapid evolution.</p>
        </div>
    </div>
    <div class="donate">
        <h3>Support Our Mission</h3>
        <p>Help us keep this service free by donating to cover our costs. All funds go toward improving our narrative analysis tools.</p>
        <p><a href="https://cash.app">Donate via Cash App</a></p>
    </div>
    <div class="disclaimer">
        <p><strong>Disclaimer:</strong> This narrative analysis system is in beta testing and provided for informational purposes only. All information presented is derived from publicly available sources, including social media platforms (e.g., X) and news reports, and is synthesized to identify patterns and relationships. No guarantee is made regarding the accuracy, completeness, or timeliness of the data, and users are encouraged to verify information independently. The system may reflect biases inherent in public data or algorithms and is subject to ongoing refinement. Neither the creators nor the platform assume liability for decisions made based on this analysis. Use at your own risk.</p>
    </div>
    <script>
        // Initialize canvas and context
        const canvas = document.getElementById('mindmap');
        const ctx = canvas.getContext('2d');

        // Responsive canvas sizing
        function resizeCanvas() {
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        // Define nodes and edges
        const nodes = [
            { id: 'center', label: 'AI Ecosystem', x: canvas.width / 2, y: canvas.height / 2, color: '#1e3a8a', vx: 0, vy: 0, fixed: true },
            { id: 'openai', label: 'OpenAI', x: 0, y: 0, color: '#8e44ad', vx: 0, vy: 0 },
            { id: 'xai', label: 'xAI', x: 0, y: 0, color: '#e74c3c', vx: 0, vy: 0 },
            { id: 'meta', label: 'Meta AI', x: 0, y: 0, color: '#3498db', vx: 0, vy: 0 },
            { id: 'google', label: 'Google DeepMind', x: 0, y: 0, color: '#7f8c8d', vx: 0, vy: 0 },
            { id: 'anthropic', label: 'Anthropic', x: 0, y: 0, color: '#27ae60', vx: 0, vy: 0 },
            { id: 'musk', label: 'Elon Musk', x: 0, y: 0, color: '#e67e22', vx: 0, vy: 0 },
            { id: 'altman', label: 'Sam Altman', x: 0, y: 0, color: '#2980b9', vx: 0, vy: 0 },
            { id: 'lecun', label: 'Yann LeCun', x: 0, y: 0, color: '#f1c40f', vx: 0, vy: 0 },
            { id: 'hassabis', label: 'Demis Hassabis', x: 0, y: 0, color: '#16a085', vx: 0, vy: 0 },
            { id: 'amodei', label: 'Dario Amodei', x: 0, y: 0, color: '#9b59b6', vx: 0, vy: 0 },
            { id: 'safety', label: 'Safety', x: 0, y: 0, color: '#e74c3c', vx: 0, vy: 0 },
            { id: 'acceleration', label: 'Acceleration', x: 0, y: 0, color: '#3498db', vx: 0, vy: 0 },
            { id: 'opensource', label: 'Open-Source', x: 0, y: 0, color: '#7f8c8d', vx: 0, vy: 0 },
            { id: 'closed', label: 'Closed Models', x: 0, y: 0, color: '#27ae60', vx: 0, vy: 0 },
            { id: 'paid_influencers', label: 'Paid Influencers', x: 0, y: 0, color: '#e67e22', vx: 0, vy: 0 },
            { id: 'virtual_influencers', label: 'Virtual AI Influencers', x: 0, y: 0, color: '#2980b9', vx: 0, vy: 0 },
            { id: 'independent_voices', label: 'Independent Voices', x: 0, y: 0, color: '#f1c40f', vx: 0, vy: 0 }
        ];

        const edges = [
            { from: 'center', to: 'openai', label: 'Central', color: '#333' },
            { from: 'center', to: 'xai', label: 'Central', color: '#333' },
            { from: 'center', to: 'meta', label: 'Central', color: '#333' },
            { from: 'center', to: 'google', label: 'Central', color: '#333' },
            { from: 'center', to: 'anthropic', label: 'Central', color: '#333' },
            { from: 'center', to: 'musk', label: 'Central', color: '#333' },
            { from: 'center', to: 'altman', label: 'Central', color: '#333' },
            { from: 'center', to: 'lecun', label: 'Central', color: '#333' },
            { from: 'center', to: 'hassabis', label: 'Central', color: '#333' },
            { from: 'center', to: 'amodei', label: 'Central', color: '#333' },
            { from: 'center', to: 'safety', label: 'Central', color: '#333' },
            { from: 'center', to: 'acceleration', label: 'Central', color: '#333' },
            { from: 'center', to: 'opensource', label: 'Central', color: '#333' },
            { from: 'center', to: 'closed', label: 'Central', color: '#333' },
            { from: 'center', to: 'paid_influencers', label: 'Central', color: '#333' },
            { from: 'center', to: 'virtual_influencers', label: 'Central', color: '#333' },
            { from: 'center', to: 'independent_voices', label: 'Central', color: '#333' },
            { from: 'openai', to: 'xai', label: 'Rival', color: '#e74c3c' },
            { from: 'meta', to: 'openai', label: 'Rival', color: '#e74c3c' },
            { from: 'anthropic', to: 'xai', label: 'Rival', color: '#e74c3c' },
            { from: 'safety', to: 'anthropic', label: 'Ally', color: '#27ae60' },
            { from: 'safety', to: 'google', label: 'Ally', color: '#27ae60' },
            { from: 'acceleration', to: 'xai', label: 'Ally', color: '#27ae60' },
            { from: 'acceleration', to: 'openai', label: 'Ally', color: '#27ae60' },
            { from: 'opensource', to: 'meta', label: 'Ally', color: '#27ae60' },
            { from: 'closed', to: 'openai', label: 'Ally', color: '#27ae60' },
            { from: 'xai', to: 'musk', label: 'Ally', color: '#27ae60' },
            { from: 'openai', to: 'altman', label: 'Ally', color: '#27ae60' },
            { from: 'meta', to: 'lecun', label: 'Ally', color: '#27ae60' },
            { from: 'google', to: 'hassabis', label: 'Ally', color: '#27ae60' },
            { from: 'anthropic', to: 'amodei', label: 'Ally', color: '#27ae60' },
            { from: 'safety', to: 'anthropic', label: 'Echo', color: '#2980b9' },
            { from: 'paid_influencers', to: 'openai', label: 'Echo', color: '#2980b9' },
            { from: 'virtual_influencers', to: 'meta', label: 'Ally', color: '#27ae60' },
            { from: 'independent_voices', to: 'safety', label: 'Independent', color: '#7f8c8d' }
        ];

        // Initialize node positions in a circle
        const radius = Math.min(canvas.width, canvas.height) / 3;
        let angle = 0;
        const angleStep = 2 * Math.PI / (nodes.length - 1);
        nodes.forEach((node, i) => {
            if (i === 0) return; // Skip center
            node.x = canvas.width / 2 + radius * Math.cos(angle);
            node.y = canvas.height / 2 + radius * Math.sin(angle);
            angle += angleStep;
        });

        let selectedNode = null;
        let draggedNode = null;
        let currentNodeIndex = -1;

        // Force-directed layout parameters
        const k = 0.002; // Reduced spring constant for looser attraction
        const repulsion = 500; // Increased repulsion for more spread
        const damping = 0.45; // Increased damping for quicker settling
        const centerForce = 0.0003; // Reduced center force

        // Debounce function
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // Force-directed simulation
        function updatePositions() {
            nodes.forEach(node => {
                if (node.fixed || node === draggedNode) return;
                let fx = 0, fy = 0;

                // Repulsion between nodes
                nodes.forEach(other => {
                    if (other !== node) {
                        const dx = node.x - other.x;
                        const dy = node.y - other.y;
                        const distance = Math.sqrt(dx * dx + dy * dy) || 0.5;
                        const force = repulsion / (distance * distance);
                        fx += force * dx / distance;
                        fy += force * dy / distance;
                    }
                });

                // Spring forces for edges
                edges.forEach(edge => {
                    const fromNode = nodes.find(n => n.id === edge.from);
                    const toNode = nodes.find(n => n.id === edge.to);
                    if (fromNode === node || toNode === node) {
                        const target = fromNode === node ? toNode : fromNode;
                        const dx = node.x - target.x;
                        const dy = node.y - target.y;
                        const distance = Math.sqrt(dx * dx + dy * dy) || 0.1;
                        const force = k * (distance - 200); // Increased ideal edge length for more space
                        fx -= force * dx / distance;
                        fy -= force * dy / distance;
                    }
                });

                // Center force
                const dx = canvas.width / 2 - node.x;
                const dy = canvas.height / 2 - node.y;
                fx += centerForce * dx;
                fy += centerForce * dy;

                // Update velocity and position
                node.vx = (node.vx + fx) * damping;
                node.vy = (node.vy + fy) * damping;
                node.x += node.vx;
                node.y += node.vy;

                // Constrain to canvas
                node.x = Math.max(30, Math.min(canvas.width - 30, node.x));
                node.y = Math.max(30, Math.min(canvas.height - 30, node.y));
            });
        }

        // Draw mind map
        function drawMindMap() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw edges
            edges.forEach(edge => {
                const fromNode = nodes.find(n => n.id === edge.from);
                const toNode = nodes.find(n => n.id === edge.to);

                // Shadow for edge
                ctx.beginPath();
                ctx.moveTo(fromNode.x, fromNode.y);
                ctx.lineTo(toNode.x, toNode.y);
                ctx.strokeStyle = 'rgba(0, 0, 0, 0.3)';
                ctx.lineWidth = 6;
                ctx.shadowColor = 'rgba(0, 0, 0, 0.5)';
                ctx.shadowBlur = 8;
                ctx.shadowOffsetX = 2;
                ctx.shadowOffsetY = 2;
                ctx.stroke();

                // Main edge
                ctx.beginPath();
                ctx.moveTo(fromNode.x, fromNode.y);
                ctx.lineTo(toNode.x, toNode.y);
                ctx.strokeStyle = edge.color;
                ctx.lineWidth = 4;
                ctx.shadowColor = 'rgba(0, 0, 0, 0)';
                ctx.shadowBlur = 0;
                ctx.stroke();

                // Edge label
                const midX = (fromNode.x + toNode.x) / 2;
                const midY = (fromNode.y + toNode.y) / 2;
                ctx.font = '12px Segoe UI';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                const textMetrics = ctx.measureText(edge.label);
                const padding = 6;
                ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
                ctx.fillRect(midX - textMetrics.width / 2 - padding, midY - 8 - padding, textMetrics.width + padding * 2, 16 + padding * 2);
                ctx.fillStyle = edge.color;
                ctx.fillText(edge.label, midX, midY);
            });

            // Draw nodes
            nodes.forEach((node, index) => {
                const gradient = ctx.createRadialGradient(node.x - 10, node.y - 10, 5, node.x, node.y, 30);
                gradient.addColorStop(0, '#ffffff');
                gradient.addColorStop(1, node.color);
                ctx.beginPath();
                ctx.arc(node.x, node.y, 30, 0, 2 * Math.PI);
                ctx.fillStyle = gradient;
                ctx.fill();
                ctx.strokeStyle = node === selectedNode ? '#000' : '#333';
                ctx.lineWidth = node === selectedNode ? 4 : 1;
                ctx.stroke();
                ctx.fillStyle = '#fff';
                ctx.font = '12px Segoe UI';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.shadowColor = 'rgba(0, 0, 0, 0.5)';
                ctx.shadowBlur = 2;
                ctx.shadowOffsetX = 1;
                ctx.shadowOffsetY = 1;
                ctx.fillText(node.label, node.x, node.y);
                ctx.shadowColor = 'rgba(0, 0, 0, 0)';
                ctx.shadowBlur = 0;
                ctx.shadowOffsetX = 0;
                ctx.shadowOffsetY = 0;
            });
        }

        // Animation loop for force-directed layout
        function animate() {
            updatePositions();
            drawMindMap();
            requestAnimationFrame(animate);
        }
        animate();

        // Mouse event handlers
        canvas.addEventListener('mousedown', (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            nodes.forEach(node => {
                const dist = Math.sqrt((x - node.x) ** 2 + (y - node.y) ** 2);
                if (dist < 30) {
                    draggedNode = node;
                    selectedNode = node;
                    currentNodeIndex = nodes.indexOf(node);
                    canvas.setAttribute('aria-label', `Selected node: ${node.label}`);
                }
            });
            drawMindMap();
        });

        const debouncedMouseMove = debounce((e) => {
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            if (draggedNode) {
                draggedNode.x = Math.max(30, Math.min(canvas.width - 30, x));
                draggedNode.y = Math.max(30, Math.min(canvas.height - 30, y));
                draggedNode.vx = 0; // Reset velocity to stabilize dragged node
                draggedNode.vy = 0;
                drawMindMap();
            }
            let tooltipNode = null;
            nodes.forEach(node => {
                const dist = Math.sqrt((x - node.x) ** 2 + (y - node.y) ** 2);
                if (dist < 30) {
                    tooltipNode = node;
                }
            });
            if (tooltipNode) {
                let tooltip = document.querySelector('.tooltip');
                if (!tooltip) {
                    tooltip = document.createElement('div');
                    tooltip.className = 'tooltip';
                    document.body.appendChild(tooltip);
                }
                tooltip.style.left = `${e.clientX + 10}px`;
                tooltip.style.top = `${e.clientY + 10}px`;
                tooltip.textContent = tooltipNode.label;
            } else {
                const tooltip = document.querySelector('.tooltip');
                if (tooltip) tooltip.remove();
            }
        }, 10);

        canvas.addEventListener('mousemove', debouncedMouseMove);

        canvas.addEventListener('mouseup', () => {
            draggedNode = null;
        });

        canvas.addEventListener('click', (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            selectedNode = null;
            nodes.forEach((node, index) => {
                const dist = Math.sqrt((x - node.x) ** 2 + (y - node.y) ** 2);
                if (dist < 30) {
                    selectedNode = node;
                    currentNodeIndex = index;
                    canvas.setAttribute('aria-label', `Selected node: ${node.label}`);
                }
            });
            drawMindMap();
        });

        // Keyboard navigation
        canvas.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === 'ArrowLeft' || e.key === 'Tab') {
                e.preventDefault();
                currentNodeIndex = (currentNodeIndex + (e.key === 'ArrowRight' || !e.shiftKey ? 1 : -1) + nodes.length) % nodes.length;
                selectedNode = nodes[currentNodeIndex];
                canvas.setAttribute('aria-label', `Selected node: ${selectedNode.label}`);
                drawMindMap();
            } else if (e.key === 'ArrowUp' || e.key === 'ArrowDown') {
                e.preventDefault();
                if (selectedNode && !selectedNode.fixed) {
                    selectedNode.y += e.key === 'ArrowUp' ? -10 : 10;
                    selectedNode.y = Math.max(30, Math.min(canvas.height - 30, selectedNode.y));
                    selectedNode.vx = 0; // Reset velocity
                    selectedNode.vy = 0;
                    drawMindMap();
                }
            } else if (e.key === 'Enter') {
                e.preventDefault();
                selectedNode = selectedNode ? null : nodes[currentNodeIndex];
                canvas.setAttribute('aria-label', selectedNode ? `Selected node: ${node.label}` : 'No node selected');
                drawMindMap();
            }
        });
    </script>
</body>
</html>
